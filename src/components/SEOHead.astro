---
/**
 * @file SEOHead.astro
 * @author Marco De Luca
 * @date 2026-02-11
 * @description SEO meta tags component with support
 *              for multilingual hreflang, Open Graph,
 *              and structured data.
 *
 * @param {string} title - Page title
 * @param {string} description - Meta description
 * @param {string} locale - Current language code
 * @param {string} path - Current page path
 * @param {string} image - OG image URL (optional)
 * @returns Rendered meta tags in <head>
 * @update 2026-02-11
 */

import {
  SUPPORTED_LOCALES,
} from '@lib/i18n.js';

interface Props
{
  title: string;
  description: string;
  locale: string;
  path?: string;
  image?: string;
}

const {
  title,
  description,
  locale,
  path = '',
  image = '',
} = Astro.props;

const siteUrl =
  import.meta.env.PUBLIC_SITE_URL ||
  'https://larescohousing.it';

const canonicalUrl = `${siteUrl}/${locale}/${path}`;

const langMap: Record<string, string> =
{
  it: 'it-IT',
  en: 'en-US',
  de: 'de-DE',
  fr: 'fr-FR',
};
---

<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1"
/>
<title>{title} | Lares Cohousing</title>
<meta name="description" content={description} />
<link rel="canonical" href={canonicalUrl} />

{/* Hreflang tags for all supported locales */}
{SUPPORTED_LOCALES.map((lang) => (
  <link
    rel="alternate"
    hreflang={langMap[lang]}
    href={`${siteUrl}/${lang}/${path}`}
  />
))}
<link
  rel="alternate"
  hreflang="x-default"
  href={`${siteUrl}/it/${path}`}
/>

{/* Open Graph */}
<meta property="og:type" content="website" />
<meta
  property="og:title"
  content={`${title} | Lares Cohousing`}
/>
<meta
  property="og:description"
  content={description}
/>
<meta property="og:url" content={canonicalUrl} />
<meta
  property="og:locale"
  content={langMap[locale]}
/>
{image && (
  <meta property="og:image" content={image} />
)}

{/* Google Fonts - Onest */}
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link
  rel="preconnect"
  href="https://fonts.gstatic.com"
  crossorigin
/>
<link
  href="https://fonts.googleapis.com/css2?family=Onest:wght@300;400;500;600;700&display=swap"
  rel="stylesheet"
/>

{/* Favicon */}
<link
  rel="icon"
  type="image/svg+xml"
  href="/favicon.svg"
/>
